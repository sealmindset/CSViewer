{"ast":null,"code":"export function flattenJSON(jsonData) {\n  const result = {};\n  function recurse(curr, prop) {\n    if (typeof curr !== \"object\" || curr === null) {\n      result[prop] = curr;\n    } else if (Array.isArray(curr)) {\n      if (curr.length === 0) {\n        result[prop] = [];\n      } else {\n        for (let i = 0, len = curr.length; i < len; i++) {\n          recurse(curr[i], `${prop}[${i}]`);\n        }\n      }\n    } else {\n      let isEmpty = true;\n      for (const p in curr) {\n        isEmpty = false;\n        if (curr.hasOwnProperty(p)) {\n          recurse(curr[p], prop ? `${prop}.${p}` : p);\n        }\n      }\n      if (isEmpty && prop) {\n        result[prop] = {};\n      }\n    }\n  }\n  recurse(jsonData, \"\");\n  return result;\n}\nexport function flattenJSONColumns(data, renamedHeaders) {\n  const flattenedData = [];\n  function flattenObject(obj, prefix = \"\") {\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        const value = obj[key];\n        if (typeof value === \"object\" && value !== null && !Array.isArray(value)) {\n          flattenObject(value, prefix + key + \".\");\n        } else {\n          const newKey = renamedHeaders[key] || key;\n          flattenedData.push({\n            [newKey]: value\n          });\n        }\n      }\n    }\n  }\n  data.forEach(row => {\n    const newRow = {};\n    for (const header in row) {\n      if (row.hasOwnProperty(header)) {\n        const value = row[header];\n        if (typeof value === \"object\" && value !== null && !Array.isArray(value)) {\n          flattenObject(value, header + \".\");\n        } else {\n          const newHeader = renamedHeaders[header] || header;\n          newRow[newHeader] = value;\n        }\n      }\n    }\n    flattenedData.push(newRow);\n  });\n  return flattenedData;\n}","map":{"version":3,"names":["flattenJSON","jsonData","result","recurse","curr","prop","Array","isArray","length","i","len","isEmpty","p","hasOwnProperty","flattenJSONColumns","data","renamedHeaders","flattenedData","flattenObject","obj","prefix","key","value","newKey","push","forEach","row","newRow","header","newHeader"],"sources":["/Users/robvance/Documents/GitHub/CSViewer/src/utils.js"],"sourcesContent":["export function flattenJSON(jsonData) {\n  const result = {};\n\n  function recurse(curr, prop) {\n    if (typeof curr !== \"object\" || curr === null) {\n      result[prop] = curr;\n    } else if (Array.isArray(curr)) {\n      if (curr.length === 0) {\n        result[prop] = [];\n      } else {\n        for (let i = 0, len = curr.length; i < len; i++) {\n          recurse(curr[i], `${prop}[${i}]`);\n        }\n      }\n    } else {\n      let isEmpty = true;\n      for (const p in curr) {\n        isEmpty = false;\n        if (curr.hasOwnProperty(p)) {\n          recurse(curr[p], prop ? `${prop}.${p}` : p);\n        }\n      }\n      if (isEmpty && prop) {\n        result[prop] = {};\n      }\n    }\n  }\n\n  recurse(jsonData, \"\");\n  return result;\n}\n\nexport function flattenJSONColumns(data, renamedHeaders) {\n  const flattenedData = [];\n\n  function flattenObject(obj, prefix = \"\") {\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        const value = obj[key];\n        if (typeof value === \"object\" && value !== null && !Array.isArray(value)) {\n          flattenObject(value, prefix + key + \".\");\n        } else {\n          const newKey = renamedHeaders[key] || key;\n          flattenedData.push({ [newKey]: value });\n        }\n      }\n    }\n  }\n\n  data.forEach((row) => {\n    const newRow = {};\n    for (const header in row) {\n      if (row.hasOwnProperty(header)) {\n        const value = row[header];\n        if (typeof value === \"object\" && value !== null && !Array.isArray(value)) {\n          flattenObject(value, header + \".\");\n        } else {\n          const newHeader = renamedHeaders[header] || header;\n          newRow[newHeader] = value;\n        }\n      }\n    }\n    flattenedData.push(newRow);\n  });\n\n  return flattenedData;\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}